---
import Banner from '../components/banners/banner.astro';
import Cta from '../components/CTAs/Cta.astro';
import FeatureBanner from '../components/features/FeatureBanner.astro';
import FeatureService from '../components/features/FeatureService.astro';
import Footer from '../components/footers/FooterWithLogo.astro';
import Header from '../components/Headers/Header.astro';
import PageHeader from '../components/Headers/PageHeader.astro';
import config from '../config/config.json';
import '../styles/global.css';

const {
  title,
  description,
  canonical,
  image,
} = Astro.props;

const fullTitle =
  title  ? `${title} | ${config.site.title}` : `${config.site.title} - ${config.site.subtitle}`;
---
<!DOCTYPE html>
<html lang="pt-PT">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />

    <title>{fullTitle}</title>
    <meta name="title" content={fullTitle} />
    <meta name="description" content={description} />

    <!-- Canonical URL -->
    <link rel="canonical" href={canonical || Astro.url} />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content={Astro.url} />
    <meta property="og:title" content={fullTitle} />
    <meta property="og:description" content={description} />
    {image && <meta property="og:image" content={image} />}

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content={Astro.url} />
    <meta property="twitter:title" content={fullTitle} />
    <meta property="twitter:description" content={description} />
    {image && <meta property="twitter:image" content={image} />}

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />

    <link rel="canonical" href="https://obraabc.org/" />
    <link rel="shortlink" href="https://obraabc.org/" />

  </head>
  <body>
    <Header />
    <PageHeader />
    <Banner banner={{
      title: "Bem-vindo à Obra ABC",
      content: "A Obra ABC é uma organização dedicada a promover a educação e o bem-estar social.",
      button: {
        enable: true,
        label: "Saiba mais",
        link: "/sobre-nos"
      },
      image: "/images/banner-image.png"
    }} />
    <FeatureBanner features={{
      title: "Nossas Atividades",
      banner: {
        title: "Atividades que Transformam Vidas",
        content: "Descubra como nossas atividades impactam positivamente a comunidade.",
        button: {
          enable: true,
          label: "Ver Atividades",
          link: "/atividades"
        }
      }
    }} />
    <FeatureService feature_service={{
      title: "Serviços de Apoio",
      description: "Oferecemos uma variedade de serviços para apoiar crianças e famílias.",
      image: "/images/feature-service-image.png",
      list: [
        "Apoio psicológico",
        "Educação complementar",
        "Atividades recreativas"
      ],
      buttons: [
        {
          enable: true,
          label: "Saiba mais",
          link: "/servicos",
          outline: false
        }
      ]
    }} />
    <slot />
    <Cta />
    <Footer />
  </body>
</html>
